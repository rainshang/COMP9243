we use python3 as the main programming language to implement assignment 3.
we use a thrid party library 'Boto3' as the python3 implement of AWS CLI.

--setup
    --save 'aws_access_key_id' and 'aws_secret_access_key' passed by caller
    --create 'SQS', save the 'sqsUrl'
    --create 2 'input' and 'output' S3 buckets
    --create a 'security_group' for all EC2 instance
    --create an EC2 instance for 'client' with the specific AMI 'ami–96666ff5', setup python, boto3 environment, upload client script
    --create an EC2 instance for 'watchdog' with the specific AMI 'ami–96666ff5', setup python, boto3 environment, upload watchdog script
    --create the original EC2 instance for the 'transcode service' with the specific AMI 'ami–96666ff5', setup python, boto3, transcode environment, upload transcode script
    Particularlly, then create image from this origin, get a new AMI for other 'transcode service' instances in future. We create other instances with this new AMI, without setup anymore.

--client
    --upload image to 'input', using timestamp to name the temporary directory
    --generate the message for this task and send it to 'SQS'
    --using a timer to check the output directory if flag is --wait

--transcode service
    --use 'crontab' command to execute task(default every one minute) on each VM, using 'flock' to avoid multitask running simultaneously.
    --in the task,
        --receive msg from 'SQS'
            --create a thread to update the visibility timeout to 120s, using a 110s timer, until the encoding proccess is done.
            --create a thread to do the transcode task

--watchdog
    --check the aggregate CPU usage
    if(cpu usage > 50%)
        if(cpu usage > 80%
            || len_sqs > num_EC2 * 2)
            create a new EC2 instance, no more than --scale_to
    else
        if(cpu usage < 20%
            || len_sqs < num_EC2 / 2)
            shutdown all the idle EC2 instance, leave one(as the standby in 'setup')

--cleanup
    --delete 'SQS'
    --delete S3
    --delete 'client', 'watchdog', all 'transcode service'
    --delete AMI
    --others

